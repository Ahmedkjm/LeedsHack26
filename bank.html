<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Food Bank | Request Portal</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        :root { --primary: #4E9F3D; --bg: #FFF9F0; }
        body { background-color: var(--bg); font-family: 'Segoe UI', sans-serif; }
        .card { border-radius: 15px; border: none; box-shadow: 0 4px 10px rgba(0,0,0,0.05); }
        .btn-bank { background-color: var(--primary); color: white; font-weight: bold; }
    </style>
</head>
<body>
    <nav class="navbar navbar-dark bg-dark mb-4">
        <div class="container">
            <span class="navbar-brand">üè¶ Food Bank Inventory Manager</span>
        </div>
    </nav>

    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-6">
                <div class="card p-4">
                    <h3 class="fw-bold mb-3">Request Supplies</h3>
                    <p class="text-muted">What is your bank currently lacking?</p>
                    
                    <div class="mb-3">
                        <label class="form-label">Food Category</label>
                        <select id="foodItem" class="form-select">
                            <option value="Canned Goods">Canned Goods</option>
                            <option value="Fresh Produce">Fresh Produce</option>
                            <option value="Dairy & Milk">Dairy & Milk</option>
                            <option value="Bakery">Bakery</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Quantity Needed (Units)</label>
                        <input type="number" id="foodQty" class="form-control" placeholder="e.g. 50">
                    </div>
                    <button class="btn btn-bank w-100" onclick="submitToDatabase()">Broadcast to Volunteers</button>
                    
                    <div id="status" class="mt-3 text-center text-success fw-bold" style="display:none;">
                        Request Live! Volunteers notified.
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function submitToDatabase() {
            const item = document.getElementById('foodItem').value;
            const qty = document.getElementById('foodQty').value;

            if(!qty) return alert("Please enter a quantity");

            // 1. Create the request object
            const newRequest = {
                id: Date.now(),
                item: item,
                qty: qty,
                status: "Pending",
                timestamp: new Date().toLocaleTimeString()
            };

            // 2. Get existing data from "Database" (localStorage)
            let db = JSON.parse(localStorage.getItem('foodRequests')) || [];
            
            // 3. Add new request and save back
            db.push(newRequest);
            localStorage.setItem('foodRequests', JSON.stringify(db));

            // 4. UI Feedback
            document.getElementById('status').style.display = 'block';
            document.getElementById('foodQty').value = "";
            setTimeout(() => { document.getElementById('status').style.display = 'none'; }, 3000);
        }
    </script>
</body>
</html>